
<html>


<style>
/* Container */

.wrapper {
 // width: 800px;
 // max-width: 100%;
 // margin: auto;
 height:100%;
 width:100%;
  overflow: hidden;
}

.carousel {
  position: relative;
  width: 100%;
  height: 0;
  padding-top: 56.25%;
  background: #ddd;
}

/* Images */

.carousel-img {
 position: absolute;
  top: 0;
  bottom: 0;
 // left: center;
 // right: 0;
 // max-width: 100%;
  -webkit-transition: opacity ease-out 0.5s;
  transition: opacity ease-out 0.5s;
}


/* Flèches de défilement */

.cimg{
 
  display: block;
   z-index: 0;
  opacity:0;
 // max-width:100%;
  height:100%;

}

.carousel-arrow {
  z-index: 3;
  display: block;
  position: absolute;
  width: 36px;
  height: 36px;
  top: 50%;
  margin-top: -18px;
  border-radius: 50%;
  border: 0;
  background-color: #fff;
  background-image: url("http://res.cloudinary.com/dnqehhgmu/image/upload/v1509720334/blue-arrow_jk1ydw.svg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px 16px;
  cursor: pointer;
  -webkit-transition: background-size 0.15s ease-out;
  transition: background-size 0.15s ease-out;
}

.carousel-arrow:hover,
.carousel-arrow:focus {
  background-size: 22px 22px;
}

.carousel-arrow-next {
  right: 20px;
}

.carousel-arrow-prev {
  left: 20px;
  -webkit-transform: rotateZ(180deg);
  -ms-transform: rotate(180deg);
  transform: rotateZ(180deg);
}
#swimgs{
 // width: 100%;
 // height:100%;
 // text-align: center;
}
#fctemplate{
    
}
</style>
 <body>

    <div id="todo" class="wrapper">

        <div class="carousel">
      
          <button type="button" id="carousel-arrow-prev" class="carousel-arrow carousel-arrow-prev" arial-label="Image précédente" onclick="back()"></button>
          <button type="button" id="carousel-arrow-next" class="carousel-arrow carousel-arrow-next" arial-label="Image suivante" onclick="next()"></button>

  
      <div id="swimgs">  </div>
   
        </div>
      
      </div>
  
<script>

var arlinks=[];
var arim=[];

     ecar=document.getElementById("todo");
    esw=document.getElementById("swimgs");
 /////////////////////////////////////////////////
loadDoc("https://raw.githubusercontent.com/ljaureguil/Comando-Unico/master/newslinks.txt",function(r){
     arlinks=r.split("\n"); //alert(arlinks);
    arlinks.forEach(function(item,index){
      var con=document.createElement("div");
     con.setAttribute("class","cimg carousel-img")
      var content="";
      //
          if(item.includes("iframe") ){
            var wi=item.split('width="');wi=1*wi[1].slice(0,wi[1].indexOf('"'));//alert(wi)
            var hi=item.split('height="');hi=1*hi[1].slice(0,hi[1].indexOf('"'));//alert(hi)
            var rad=hi/wi;
            var  y=ecar.clientHeight, x=y/rad;
            var item=item.replace('width="'+wi+'" height="'+hi+'"','width="'+x+'" height="'+y+'"');
             


  
        con.innerHTML=item;
        esw.appendChild(con);
       arim.push(con);
      // alert(ecar.style.width)
       con.style.left=.7*(esw.clientWidth-wi)/4+"px";//offset
      alert(esw.clientWidth+"\n"+wi+"\n"+con.style.left)

         }
        if(item.includes("https://scontent-")){
       var im=document.createElement("img");
            im.src=item;
            im.setAttribute("class","cimg carousel-img");//mg carousel-img'>")
         esw.appendChild(im);
       arim.push(im);
       //
       var nw=im.clientWidth*1;
      var nh=im.clientHeight*1
       
      // if(nh<nw) im.style.left=(esw.clientWidth-nw)/4+"px";

          } }) });
 var record=1;
back();
//// Facebook page go get video

function back(){
    arim[record].style.opacity=0;arim[record].style.zIndex=0;
  record--;
  if(record<0) record=arim.length-1;
    arim[record].style.opacity=1;arim[record].style.zIndex=1;
 
}

function next(){
 // alert(arim.length)
  arim[record].style.opacity=0; arim[record].style.zIndex=0;
  record++;
  if(record===arim.length) record=0;
  arim[record].style.opacity=1;arim[record].style.zIndex=1;
 
}

function loadDoc(url,callback) {
  var xhttp = new XMLHttpRequest();
  
  xhttp.open("GET", url, false);
  xhttp.send();
callback(xhttp.responseText);

}   

</script>


</body>
</html>
