
<html>

<body></body>
<style>
    body {
        margin: 0;
    }
    #canvas {
        // position: absolute;
        // top: 60%;
        border-radius: 10px;
        box-shadow: 10px 10px 40px black;
    }
    #description {
        color: black;
        background: white;
        padding: 2%;
        width: 100%;
        height: 100%;
        position: absolute;
        font-size: 12px;
        overflow: auto;
    }
    #container {
        width: 100%;
        height: 100%;
        position: absolute;
    }
    #template {
        width: 90%;
        height: 20%;
        font-size: 14px;
        border-style: solid;
        border-width: .5px;
    }
    .btns {
        margin: 5px;
        width: 60px;
        height: 23px;
        overflow: hidden;
        border-radius: 10px;
        box-shadow: inset 5px -5px 20px #202020, inset -5px 5px 20px #ffffff;
        background-color: #dddddd;
    }
    button.hover {
        background-color: red;
    }
    #bre {
        // position: absolute;
        border-radius: 5px;
        right: 10%;
        top: 37%;
        width: 90%;
        height: 20px%;
    }
</style>
<div id='container'>
    <div id='description'>
        <p>
            <b>Try replacing values:(drag it to rotate it)<br>remove // for transparency (0-1)</b>
            <br>
        </p>
        <button id="bo" class="btns" onclick="setfunc('box')">box</button>
        <button id="bo" class="btns" onclick="setfunc('sphere')">spehre</button>
        <button id="bo" class="btns" onclick="setfunc('cylinder')">cylinder</button>
        <button id="bo" class="btns" onclick="setfunc('plane')">plane</button>
        <button id="bo" class="btns" onclick="setfunc('gbox')">gbox</button>
        <button id="bo" class="btns" onclick="setfunc('gsphere')">gspehre</button>
        <button id="bo" class="btns" onclick="setfunc('gcylinder')">gcylinder</button>
        <button id="bo" class="btns" onclick="setfunc('gplane')">gplane</button>
        <button id="bo" class="btns" onclick="setfunc('gsubtract')">gsubtract</button>
        <button id="bo" class="btns" onclick="setfunc('gunion')">gunion</button>
        <button id="bo" class="btns" onclick="setfunc('gintersection')">gintersection</button>
        <button id="bo" class="btns" onclick="setfunc('Example')">Example</button>




        <br>
        <textarea id="template"></textarea>
        <br>
        <button id="bre" class="btns" onclick="update()">Render</button>
        <br>
        <br>
        <canvas id="canvas"></canvas>
    </div>
</div>
<script src="https://cdn.rawgit.com/mrdoob/three.js/master/build/three.js"></script>
<script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/controls/TrackballControls.js"></script>
<script src="https://cdn.rawgit.com/ljaureguil/My-Library/7a86fc79/MyLib.js"></script>
<script src="https://cdn.rawgit.com/ljaureguil/My-Library/2b53135e/ThreeCSG.js"></script>

<script>
    //'//textLebel(msg, W, H, center, color, font, frame)\nobjLJL=new LJL();\nlebel=objLJL.textLebel("Lebel example",100,60,true,0x00ff00,"Arial",true);\nscene.add(lebel);\n'+
    //            '\n//line(points, width, color)\npts=[];\nnpts=Math.random()*200+5\nfor(i=0;i<npts;i++){\npts.push(point(Math.random()*800-400,Math.random()*800-400,Math.random()*800-400));\n}\n\nli=line(pts,4,0xbf1010);\nscene.add(li)'


    //https://cdn.rawgit.com/ljaureguil/My-Library/2b53135e/MyLib.js
    var camera, scene, renderer;
    var geometry, material, mesh;
    ec = document.getElementById("canvas");
    ec.width = window.innerWidth * .9;
    ec.height = window.innerWidth / 1.7;
    et = document.getElementById('template');
    init();
    animate();

    function init() {
        scene = new THREE.Group();
        ecanvas = document.getElementById('canvas');
        camera = new THREE.PerspectiveCamera(50, ec.width / ec.height, 0.01, 5000);
        camera.position.z = 100;
        pic = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRpiXsUGTmUfFQWW6inRmTgWKetv7g7N80jJzG02Ayw185f9YMI"
        scene_ = new THREE.Scene();
        me = box(50, 50, 50, pic, 0xffffff, true);
        scene.add(me);
        scene_.add(scene);
        var directionalLight = new THREE.DirectionalLight(0xffffff, .9, 1000);

        directionalLight.position.y = 400;
        directionalLight.castShadow = true;
        scene_.add(directionalLight);

        var light = new THREE.AmbientLight(0xffffff); // soft white light
        scene_.add(light);
        renderer = new THREE.WebGLRenderer({
            canvas: ecanvas,
            antialias: true
        });
        renderer.setSize(ec.width, ec.height);
        //   document.body.appendChild( renderer.domElement );
        controls = new THREE.TrackballControls(camera, renderer.domElement);

        world_ = sphere(500, 50, 50, "https://media.istockphoto.com/photos/seamless-panorama-of-the-sea-floor-picture-id612380596?k=6&m=612380596&s=612x612&w=0&h=X9PqyzE89MSY-xRSqYwKDkYxr0iyWj5sAs2gmnKBGEI=", 0xffffff, true);
        scene_.add(world_);

    }

    function animate() {

        requestAnimationFrame(animate);
        me.rotation.x += 0.005;
        me.rotation.y += 0.01;
        //    scene.rotation.x += 0.01;
        //    scene.rotation.y += 0.02;
        controls.update();
        renderer.render(scene_, camera);

    }

    function setfunc(tem) {
        if (tem === "box") {
            et.value = "";
        }
        if (tem === "box") {
            et.value = 'var b=box(50,50,50,pic,0xff8080,true);\n/b.material.opacity=.5;\scene.add(b);'
        }
        if (tem === "sphere") {
            et.value = 's=sphere(30,20,20,pic,0x8080ff,true);\n//s.material.opacity=.5;\nscene.add(s);'
        }
        if (tem === "cylinder") {
            et.value = "c=cylinder(30,30,100,20,20,pic,0x80ff80,true);\n//c.material.opacity=.5;\nscene.add(c);"
        }
        if (tem === "plane") {
            et.value = "p=plane(50,50,pic,0xffff00,true);\n//p.material.opacity=.5;\scene.add(p);"
        }
        if (tem === "gbox") {
            et.value = 'var gb=gbox(50,50,50,true);\nmat=material(pic,0xffff90);\nme=mesh(gb,mat);\n//mat.opacity=.5;\nscene.add(me);'
        }
        if (tem === "gsphere") {
            et.value = 'gs=gsphere(30,20,20,true);\nmat=material(pic,0xffffff);\nme=mesh(gs,mat);\n//mat.opacity=.5;\nscene.add(me);'
        }
        if (tem === "gcylinder") {
            et.value = "gc=gcylinder(30,30,100,20,20,true);\nmat=material(pic,0xffffff);\nme=mesh(gc,mat);\n//mat.opacity=.5;\nscene.add(me);"
        }
        if (tem === "gplane") {
            et.value = "gp=gplane(50,50,true);\nmat=material(pic,0xffffff);\nme=mesh(gp,mat);\n//mat.opacity=.5;\nscene.add(me);"
        }
        if (tem === "gsubtract") {
            et.value = 'gs=gbox(50,50,50,true);\ngc=gcylinder(20,20,100,6,6,true);\ngsub=gsubtract(gs,gc)\nmat=material(pic,0xffffff);\nme=mesh(gsub,mat);\n//mat.opacity=.5;\nscene.add(me);'
        }
        if (tem === "gunion") {
            et.value = 'gs=gbox(50,50,50,true);\ngc=gcylinder(20,20,100,6,6,true);\nguni=gunion(gs,gc)\nmat=material(pic,0xffffff);\nme=mesh(guni,mat);\n//mat.opacity=.5;\nscene.add(me);'
        }
        if (tem === "gintersection") {
            et.value = 'gs=gsphere(25,20,20,true);\ngc=gcylinder(25,20,100,6,6,true);\ngint=gintersection(gs,gc)\nmat=material(pic,0xffffff);\n//mat.opacity=.5;\nme=mesh(gint,mat);\nscene.add(me);'
        }
        if (tem === "Example") {
            et.value = '//textLebel(msg, W, H, center, color, font, frame)\nobjLJL=new LJL();\nlebel=objLJL.textLebel("Lebel example",100,60,true,0x00ff00,"Arial",true);\nscene.add(lebel);\n' +
                '\n//line(points, width, color)\npts=[];\nnpts=Math.random()*200+5\nfor(i=0;i<npts;i++){\npts.push(point(Math.random()*800-400,Math.random()*800-400,Math.random()*800-400));\n}\n\nli=line(pts,4,0xbf1010);\nscene.add(li)'
        }
    }

    function update() {
        clearThree(scene);
        //     mesh.dispose();
        eval(et.value);
    }

    function clearThree(obj) {
        while (obj.children.length > 0) {
            clearThree(obj.children[0])
            obj.remove(obj.children[0]);
        }
        if (obj.geometry) obj.geometry.dispose()
        if (obj.material) obj.material.dispose()
        if (obj.texture) obj.texture.dispose()
    }
</script>

</html>
