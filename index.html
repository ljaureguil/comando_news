<html>


<style>
  body{
   overflow:hidden;

  }
#todo{
    width:100%;
    height:100%;
    overflow:hidden;
}
.carousel {
  position: relative;
  width: 100%;
  height: 0;
   background: #ddd;
}

/* Images */

.carousel-img {
 position: absolute;
  top: 0;
  bottom: 0;
   -webkit-transition: opacity ease-out 0.5s;
  transition: opacity ease-out 0.5s;
  opacity:0;
}
.cimg{
 
  display: block;
   z-index: 0;
  opacity:0;
}
.cvf{ 
    position:absolute; //opacity:0;
 -webkit-transition: opacity ease-out 0.5s;
  transition: opacity ease-out 0.5s;
/  -webkit-transition: opacity ease-out 0.5s;
  transition: opacity ease-out 0.5s;
 
 // object-fit: contain;
 
}


.carousel-arrow {
  z-index: 3;
  display: block;
  position: absolute;
  width: 30px;
  height: 30px;
  top: 25%;
   border-radius: 50%;
  border-style:solid;
  border-color:red;
   background-image: url("http://res.cloudinary.com/dnqehhgmu/image/upload/v1509720334/blue-arrow_jk1ydw.svg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px 16px;
  cursor: pointer;
  -webkit-transition: background-size 0.15s ease-out;
  transition: background-size 0.15s ease-out;
  opacity: .5;
}

.carousel-arrow:hover,
.carousel-arrow:focus {
  background-size: 22px 22px;
}

.carousel-arrow-next {
  right: 20px;
}

.carousel-arrow-prev {
  left: 20px;
  -webkit-transform: rotateZ(180deg);
  -ms-transform: rotate(180deg);
  transform: rotateZ(180deg);
}
#swimgs{background:url(https://static1.bigstockphoto.com/0/9/8/large1500/890710.jpg);
background-size:100% 100%;
  width: 100%;
  height:100%;

 // text-align: center;
 width:100%;
 height:100%;
}
#fctemplate{
    
}
</style>
 <body>

      <button type="button" id="carousel-arrow-prev" class="carousel-arrow carousel-arrow-prev" arial-label="Image précédente" onclick="back()"></button>
          <button type="button" id="carousel-arrow-next" class="carousel-arrow carousel-arrow-next" arial-label="Image suivante" onclick="next()"></button>

      <div id="swimgs">    
      </div>

<script>

//    var w = window.screen.availWidth;//window.innerWidth;//cont.offsetWidth; //
//    var h = window.screen.availHeight//window.innerHeight;//cont.offsetHeight; //
  // 
    esw=document.getElementById("swimgs");
var arlinks=[];
var arim=[];
var w = window.innerWidth;//esw.offsetWidth;////
var h = window.innerHeight;//esw.offsetHeight;//
 //  alert(h+"\n\n"+w);
var ro=w/h;
 //alert(esw.clientWidth+"\n\n"+w);

 /////////////////////////////////////////////////
loadDoc("https://raw.githubusercontent.com/ljaureguil/Comando-Unico/master/newslinks.txt", function(r) {
    arlinks = r.split("\n"); //alert(arlinks);
    arlinks.forEach(function(item, index) {
        var con = document.createElement("div");
       
        con.setAttribute("class", "cvf");//cimg carousel-img
        var content = "";
        //
        if (item.includes("iframe")) {

 //      item=item.replace('width="'+wi+'" height="'+hi+'"','width="'+ww+'" height="'+hh+'"');
              
  //   alert("\n w= "+w +"\nh = "+h +"\nwe = "+ we+"\n he= "+he +"\nww = "+ww +"\nhh = "+ hh)
               
                
                    arim.push(con);
                
                
////////////////////////////          item = item.replace('<iframe', '<iframe id="ifr_' + index + '" class="cimg carousel-img"  onload=bestFit(esw,this)');//class="cvf"  onload=bestFit(esw,this)

           item = item.replace('<iframe', '<iframe id="ifr_' + index + '"class="cvf"  onload=bestFit(esw,this)');//class="cvf"  onload=bestFit(esw,this)
//alert(item);
      //      item = item.replace('width="' + wi + '" height="' + hi + '"', '');
            con.innerHTML += item;
         //   alert(con.innerHTML)
         var id="ifr_"+index;
             esw.appendChild(con);
             con.style.opacity=0;
          
        }
        if (item.includes("https://scontent-")) {
            var im = document.createElement("img");
            im.style.opacity=0;
                  arim.push(im);
            im.src = item;
            esw.appendChild(im);
            im.onload=function(){
             //   var ri=im.naturalWidth/im.naturalHeight;
   im.setAttribute("class", "cimg carousel-img"); //mg carousel-img'>")
   bestFit(esw,im)
 
      
                    }
        }
    })
});
function bestFit(cont, e) {
 //   alert(e.width);

    var we = e.offsetWidth; //.naturalWidth;
    var he = e.offsetHeight; //.naturalHeight;//
    var ra = w / we;
    ra = w / we;
    var hh = he * ra,
        ww = we * ra;
    if (hh > h) {
        ra = h / he;
        ww = we * ra;
        hh = he * ra;
    }
    e.width = ww;
    e.height = hh;
    e.style.left=(w-ww)/2;
    e.style.top=(h-hh)/2
 //   alert("\n w= "+w +"\nh = "+h +"\nwe = "+ we+"\n he= "+he +"\nww = "+ww +"\nhh = "+ hh)
 //arim.push(e);
}
 var record=1;
setTimeout("back();",2000);
//// Facebook page go get video

function back(){
    arim[record].style.opacity=0;arim[record].style.zIndex=0;
  record--;
  if(record<0) record=arim.length-1;
    arim[record].style.opacity=1;arim[record].style.zIndex=1;
 //alert(record)
}

function next(){
 // alert(arim.length)
  arim[record].style.opacity=0; arim[record].style.zIndex=0;
  record++;
  if(record===arim.length) record=0;
  arim[record].style.opacity=1;arim[record].style.zIndex=1;
// alert(record)
}

function loadDoc(url,callback) {
  var xhttp = new XMLHttpRequest();
  
  xhttp.open("GET", url, false);
  xhttp.send();
callback(xhttp.responseText);

}   

</script>


</body>
</html>
